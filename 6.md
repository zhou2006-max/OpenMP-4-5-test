# OpenMP并行编程技术--调度策略
------
------

1. 预备知识
   - 在OpenMP中将循环分配给线程成为调度。
   - 工作量的划分与调度通过子句schedule实现，语法格式：***schedule(type[,size])***
   - 参数type指调度类型，常用调度类型如下：**静态调度static**，**动态调度dynamic**，**指导性调度guided**，**运行调度runtime**.
   - 参数size表示每次调度的迭代数量，必须为整数（***当type类型为runtime时，不能使用该参数***）。
  ------
  ------
  2. SCHEDULE
    - 动态调度可以解决静态调动引起的负载不平衡问题。
  3. 指导性调度，开始时块比较大，后来逐渐减少，从而减少线程队列访问时间。
  4. runtime：根据环境变量决定使用上述哪三种
------
------
***调度选择***
- 如果循环的每次迭代需要几乎相同的计算量，那么可能默认的调度方式能提供最好的性能。
 
- 如果随着循环的进行，迭代的计算量线性递增（或线性递减），那么采用static调度可能会提供最好的性能。
 
- 如果每次迭代的开销事先不能确定，那么可能需要尝试使用多种不同的调度策略。这种情况下，应当使用schedule(runtime)子句，通过赋予环境变量OMP_SCHEDULE不同的值来比较不同调度策略下程序的性能。